"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[339],{339:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r,a=t(861),s=t(439),i=t(757),c=t.n(i),u=t(552),o=t(168),p=t(867).ZP.h1(r||(r=(0,o.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 320px;\n  margin-bottom: 22px;\n"]))),h=t(791),l=t(243),f="1e380c5eeff8711da34762a498fc6761",m="https://api.themoviedb.org/3/",d=function(){var e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.get("".concat(m,"trending/movie/day?api_key=").concat(f));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=t(510),v=t(184),x=function(e){var n=e.movie,t=n.poster_path,r=n.title;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{src:t?"https://image.tmdb.org/t/p/w500/"+t:"",alt:r,loading:"lazy"}),(0,v.jsx)("h2",{children:r})]})},j=function(e){var n=e.movies;return(0,v.jsx)("ul",{children:n.map((function(e){return(0,v.jsx)(x,{movie:e},e.id)}))})},w=function(e){var n=e.message;return(0,v.jsx)("h1",{children:n})},k=function(){var e=(0,h.useState)([]),n=(0,s.Z)(e,2),t=n[0],r=n[1],i=(0,h.useState)(!1),o=(0,s.Z)(i,2),l=o[0],f=o[1],m=(0,h.useState)(!1),x=(0,s.Z)(m,2),k=x[0],Z=x[1];return(0,h.useEffect)((function(){console.log("start rendering");var e=function(){var e=(0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,d();case 4:n=e.sent,r(n.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z(e.t0.message);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e(),console.log("end rendering")}),[]),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.$,{children:(0,v.jsxs)(u.W,{children:[(0,v.jsx)(p,{children:"Trending today"}),l&&(0,v.jsx)(g.a,{}),k&&(0,v.jsx)(w,{message:"Opps. something went wrong"}),0!==t.length&&(0,v.jsx)(j,{movies:t})]})})})}}}]);
//# sourceMappingURL=339.c751b958.chunk.js.map